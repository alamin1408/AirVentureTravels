<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AirVenture Travels | Book Flight</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Smooth fade-in for suggestion box */
    .fade-in {
      animation: fadeIn 0.25s ease-in-out forwards;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(-5px);}
      to {opacity: 1; transform: translateY(0);}
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgba(59, 130, 246, 0.6); /* Tailwind blue-500 */
      border-radius: 3px;
    }
    ::-webkit-scrollbar-track {
      background-color: #f1f1f1;
      border-radius: 3px;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200 transition-all duration-300">

  <!-- 🌍 Header -->
  <header class="bg-blue-600 text-white shadow-md">
    <div class="max-w-6xl mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold">✈️ AirVenture Travels</h1>
      <nav class="space-x-4">
        <a href="index.html" class="hover:underline">Home</a>
        <a href="about.html" class="hover:underline">About</a>
        <a href="package.html" class="hover:underline">Packages</a>
        <a href="booking.html" class="hover:underline">Booking</a>
        <a href="contact.html" class="hover:underline">Contact</a>
      </nav>
      <button id="darkToggle" class="ml-4 bg-white text-blue-600 px-3 py-1 rounded-lg font-semibold dark:bg-gray-800 dark:text-yellow-400">
        🌙
      </button>
    </div>
  </header>

  <!-- ✈️ Booking Form -->
  <section id="flights" class="py-12">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl font-bold mb-6">Book Your Flight</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-8">Fill up the form and we’ll get back to you soon.</p>

      <form action="https://formspree.io/f/xgvnplle" method="POST" class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-md">
        
        <!-- Row 1 -->
        <div class="grid md:grid-cols-2 gap-4">
          <input type="text" name="first_name" placeholder="First Name" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
          <input type="text" name="last_name" placeholder="Last Name" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
        </div>

        <!-- Row 2 -->
        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <div class="flex items-center border rounded-lg p-3 dark:border-gray-600">
            <select id="countryCode" class="bg-transparent outline-none mr-2 dark:bg-gray-700">
              <option value="+880">🇧🇩 +880</option>
              <option value="+91">🇮🇳 +91</option>
              <option value="+1">🇺🇸 +1</option>
              <option value="+44">🇬🇧 +44</option>
              <option value="+81">🇯🇵 +81</option>
              <option value="+971">🇦🇪 +971</option>
              <option value="+61">🇦🇺 +61</option>
              <option value="+49">🇩🇪 +49</option>
              <option value="+33">🇫🇷 +33</option>
              <option value="+39">🇮🇹 +39</option>
              <option value="+60">🇲🇾 +60</option>
            </select>
            <input type="tel" name="mobile" placeholder="Mobile Number" required class="flex-1 outline-none dark:bg-gray-700">
          </div>
          <input type="email" name="email" placeholder="Email Address" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
        </div>

        <!-- Row 3: Departure & Arrival with Flashy Suggestion -->
        <div class="grid md:grid-cols-2 gap-4 mt-4 relative">
          <div class="relative">
            <input id="departure" name="from" type="text" placeholder="Departure City/Airport" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
            <ul id="departureSuggestions" class="absolute z-20 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 w-full mt-1 rounded-lg shadow-lg hidden max-h-60 overflow-y-auto fade-in"></ul>
          </div>
          <div class="relative">
            <input id="arrival" name="to" type="text" placeholder="Arrival City/Airport" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
            <ul id="arrivalSuggestions" class="absolute z-20 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 w-full mt-1 rounded-lg shadow-lg hidden max-h-60 overflow-y-auto fade-in"></ul>
          </div>
        </div>

        <!-- Row 4 -->
        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <input type="date" name="date" required class="p-3 border rounded-lg w-full dark:bg-gray-700">
          <select name="trip_type" id="tripType" class="p-3 border rounded-lg w-full dark:bg-gray-700">
            <option value="One Way">One Way</option>
            <option value="Round Trip">Round Trip</option>
          </select>
        </div>

        <!-- Return Date (Hidden by default) -->
        <div id="returnDateContainer" class="mt-4 hidden">
          <input type="date" name="return_date" class="p-3 border rounded-lg w-full dark:bg-gray-700" placeholder="Return Date">
        </div>

        <!-- Row 5 -->
        <div class="grid md:grid-cols-2 gap-4 mt-4">
          <select name="class" class="p-3 border rounded-lg w-full dark:bg-gray-700">
            <option value="Economy">Economy</option>
            <option value="Premium Economy">Premium Economy</option>
            <option value="Business">Business</option>
          </select>
          <textarea name="message" rows="1" placeholder="Additional Notes" class="p-3 border rounded-lg w-full dark:bg-gray-700"></textarea>
        </div>

        <!-- Button -->
        <button type="submit" class="mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
          Submit Booking
        </button>
      </form>
    </div>
  </section>

  <!-- 🌍 Footer -->
  <footer class="bg-blue-600 text-white text-center py-6 mt-12">
    <p>&copy; 2025 AirVenture Travels | Feel the Air, Live with Adventure 🌏</p>
  </footer>

  <script>
  // 🌙 Dark Mode Toggle
  const toggle = document.getElementById("darkToggle");
  toggle.addEventListener("click", () => {
    document.documentElement.classList.toggle("dark");
  });

  // ✈️ Round Trip Return Date Toggle
  const tripType = document.getElementById("tripType");
  const returnDateContainer = document.getElementById("returnDateContainer");
  tripType.addEventListener("change", () => {
    returnDateContainer.classList.toggle("hidden", tripType.value !== "Round Trip");
  });

  // ✈️ Airport Live Suggestion with Flashy Dropdown
  const apiKey = "b764df5d-f3af-4193-bc67-74b8ecc94b7f";
  function setupAirportAutocomplete(inputId, suggestionId) {
    const input = document.getElementById(inputId);
    const suggestionBox = document.getElementById(suggestionId);
    let timeout = null;

    input.addEventListener("input", () => {
      const query = input.value.trim();
      clearTimeout(timeout);

      if (query.length < 2) {
        suggestionBox.innerHTML = "";
        suggestionBox.classList.add("hidden");
        return;
      }

      timeout = setTimeout(async () => {
        try {
          const res = await fetch(`https://airlabs.co/api/v9/suggest?q=${query}&api_key=${apiKey}`);
          const data = await res.json();
          const airports = data.response?.airports || [];

          suggestionBox.innerHTML = "";
          if (airports.length === 0) {
            suggestionBox.classList.add("hidden");
            return;
          }

          airports.slice(0, 6).forEach(airport => {
            const li = document.createElement("li");
            li.className = "px-4 py-2 hover:bg-blue-100 dark:hover:bg-blue-900 cursor-pointer text-left transition-colors duration-200";
            li.innerHTML = `
              <div class="flex items-center">
                <span class="text-blue-600 dark:text-blue-400 mr-2">✈️</span>
                <div>
                  <p class="font-semibold">${airport.name} (${airport.iata_code})</p>
                  <p class="text-sm text-gray-600 dark:text-gray-300">${airport.city_name || ""}, ${airport.country_name}</p>
                </div>
              </div>`;
            
            li.addEventListener("click", () => {
              input.value = `${airport.name} (${airport.iata_code})`;
              suggestionBox.classList.add("hidden");
            });

            suggestionBox.appendChild(li);
          });

          suggestionBox.classList.remove("hidden");
          suggestionBox.classList.add("fade-in");
        } catch (err) {
          console.error("❌ Airport API Error:", err);
        }
      }, 300); // debounce
    });

    // hide suggestions when clicking outside
    document.addEventListener("click", (e) => {
      if (!e.target.closest(`#${inputId}`) && !e.target.closest(`#${suggestionId}`)) {
        suggestionBox.classList.add("hidden");
      }
    });
  }

  setupAirportAutocomplete("departure", "departureSuggestions");
  setupAirportAutocomplete("arrival", "arrivalSuggestions");
  </script>

</body>
</html>